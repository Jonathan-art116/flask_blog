This code from  https://dormousehole.readthedocs.io/en/latest/tutorial/factory.html
